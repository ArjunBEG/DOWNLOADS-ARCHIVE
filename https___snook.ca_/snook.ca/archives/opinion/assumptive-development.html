<!doctype html>
<html lang="en">

<!-- Mirrored from snook.ca/archives/opinion/assumptive-development by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 25 Apr 2021 22:04:52 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	<title>Assumptive Development - Snook.ca</title>
	<meta name="viewport" content="width=device-width" />
		<link rev="canonical" type="text/html" href="https://snook.ca/archives/opinion/assumptive-development">
	<meta property="og:url" content="https://snook.ca/archives/opinion/assumptive-development">
	<meta property="og:title" content="Assumptive Development">
	<meta property="og:description" name="description" content="As web developers, we want a way to ask "can you do this?" And there are varying degrees to which we can determine this.
One of those ways is to use user agent (UA) detection. We ask the browser some...">
	<meta property="og:type" content="article">
				<meta property="og:image" content="https://snk.ms/logo.gif">
		<meta name="twitter:card" content="summary">
				<meta name="theme-color" content="#680">
	<link rel="alternate" type="application/rss+xml" title="XML" href="https://snook.ca/jonathan/index.rdf"> 
<!--	<link rel="stylesheet" href="/css/snook-v10.css"> -->
<style>
/* A font by Jos Buivenga (exljbris) -> http://www.exljbris.nl */

@font-face { font-family: 'MuseoCustom'; src: url('https://snook.ca/css/MuseoSans_500-webfont.woff2') format('woff2'), url('https://snook.ca/css/MuseoSans_500-webfont.woff') format('woff'); font-weight: normal; font-style: normal; }
@font-face { font-family: 'Playfair Display'; font-style: normal; font-weight: 900; src: local('Playfair Display Black'), local('PlayfairDisplay-Black'), url('https://snook.ca/css/playfair.woff2') format('woff2'), url(https://fonts.gstatic.com/s/playfairdisplay/v10/UC3ZEjagJi85gF9qFaBgIFG5nCscAKpKP81nraB-v6E.woff) format('woff'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215; }
html{background:#EEEEE6 url(https://snook.ca/img/bg.png)}body{margin:0;padding:0;border:12px solid #680;font-family:'PT Serif',Georgia,Times,'Times New Roman',serif;background:url(https://snook.ca/img/swash.svg) no-repeat 50% 0;background-size:1600px 200px;color:#333;line-height:1.7;min-height:calc(100vh - 24px)}img{border:0}figcaption{font-style:italic;font-size:90%;}p{margin-bottom:1.5em}hr{width:20%;}a{color:#680;transition:all .2s}a:hover{text-decoration:none}a:active,a:focus{background-color:rgba(51,51,51,.1)}blockquote{font-style:italic;font-size:95%;background:url(https://snook.ca/img/comment.svg) no-repeat 2px 5px;margin:0;padding-left:20px}pre{margin-left:-20px;background:url(https://snook.ca/img/code-bookmark.svg) no-repeat 0 0}pre code{display:block;margin-left:20px;padding:10px;font-size:90%;background-color:rgba(255,255,255,.5);overflow:auto}table{border:1px solid #666;border-width:1px 0;border-collapse:collapse;background-color:rgba(255,255,255,.5);margin-bottom:30px;font-size:90%}th{border:1px solid #666;border-width:1px 0;background-color:rgba(51,51,51,.1)}td{border:1px solid #CCC;border-width:1px 0;padding:2px 10px}.update{background-color:rgba(33,129,66,0.1);padding:5px 10px 1px;border-radius:5px}#header{font-family:'MuseoCustom','Century Gothic',Arial,Helvetica,sans-serif;font-size:13px;max-width:780px;margin:auto;line-height:12px;background:url(https://snook.ca/img/snook-bookmark.svg) no-repeat;padding:0 20px}#header h1,#header h2{font-size:13px;font-weight:400;margin:0}#header h1{color:#680;padding-top:18px;text-transform:uppercase}#header h2 a{text-decoration:none;color:#333;display:block}#header h2 a:hover{color:#680}#header .nav{text-transform:uppercase;word-spacing:4px;padding-top:20px}#header .nav a{text-decoration:none;color:#333;padding-top:3px}#header .nav a:hover{color:#680}.blurb{line-height:1.3}#content{max-width:820px;margin:4em auto;background:url(https://snook.ca/img/star.svg) no-repeat 3px 58px}#main{padding:40px 0 0;background:url(https://snook.ca/img/line-v.png) no-repeat 100% 90%}#main .dt,#main .cat,#main .shorturl{font-family:Garamond,Georgia,Times,'Times New Roman',serif;text-transform:uppercase;font-size:13px;font-weight:700;color:#666;background:url(https://snook.ca/img/line.png) no-repeat -200px 70%}#main h2{font-weight:900;font-size:28px;margin:7px 0 0;font-family:'Playfair Display',Garamond,serif;line-height:1.1;background:url(https://snook.ca/img/line.png) no-repeat 100px 26px}#main h2 a{text-decoration:none;color:#444}#main h2 a:hover{color:#680}.article-image-small{margin-top:20px;text-align:center;background-color:#000;padding:6px;font-size:0;display:inline-block;}.article-image{text-align:center;background-color:rgba(0,0,0,.07);padding:14px 12px;font-size:0px;width:calc(100vw - 24px);position:relative;left:50%;right:50%;margin:20px -50vw 4rem -50vw;}#main .article.inside h1{font-weight:900;font-size:2em;margin:0 0 2em;font-family:'Playfair Display',Garamond,serif;line-height:40px;background:url(https://snook.ca/img/line.png) no-repeat 100px 90%}#main .article.inside h2{font-family:'Playfair Display',Georgia,Times,'Times New Roman',serif;font-weight:900;font-size:1.5em;text-transform:none;background:none}@media only screen and (min-width: 480px){#main .article.inside{font-size:120%}}#main .article{margin-bottom:40px;padding:0 20px;background:url(https://snook.ca/img/star.svg) no-repeat 2px 13px}#main .article:first-child{background:none}#main .article img{max-width:100%;max-height:80vh;}#main .article .abstract{font-size:110%;}#main .fullarticle{text-align:right;background:url(https://snook.ca/img/line.png) no-repeat 190% 70%}#main .fullarticle a{text-transform:uppercase;text-decoration:none;color:#680;font-size:14px;padding:4px}#main .fullarticle a:hover{background-color:rgba(51,51,51,.1)}#main .meta{background:url(https://snook.ca/img/star.svg) no-repeat 3px .3em;font-family:Garamond,Georgia,Times,'T\Aimes New Roman',serif;padding-left:20px;margin-top:40px}#main .shorturl .url{text-transform:none;color:#555}#comments .meta{background:url(https://snook.ca/img/comment-bookmark.svg) no-repeat 0 3px}#comments .comment{background:url(https://snook.ca/img/comment.svg) no-repeat 3px .6em}#comments .comment .meta .authorname{text-transform:uppercase}#comments .comment .meta .commentnumber a{float:right;color:rgba(51,51,51,.25);font-size:24px;text-decoration:none}#comments .comment .quote{padding-left:20px;font-size:95%;word-break:break-word}#comments .commentcount{text-transform:uppercase}#comments .comment .meta{background:url(https://snook.ca/img/line.png) no-repeat 40px 1.1em}#comments .snook{background:url(https://snook.ca/img/comment-snook.png) no-repeat 0 3px}#comments .snook .meta .commentnumber a{color:rgba(102,136,0,.5)}#comments .snook .meta .commentnumber a:hover{color:rgba(102,136,0,1)}h3#postcomments{text-transform:uppercase;font-weight:400;font-size:14px;background:url(https://snook.ca/img/line.png) no-repeat 40px 14px;margin:0 20px}#comments_form{background:url(https://snook.ca/img/line-v.png) no-repeat 10px 0;padding-left:20px}#comments_form .inputgroup{background:url(https://snook.ca/img/line.png) no-repeat 100% 100%;margin-bottom:5px}#postmeta{margin-bottom:10px}#postdata{background:url(https://snook.ca/img/line-v.png) no-repeat 100% 50%}#postdata textarea{width:100%;border:none;font-size:inherit;font-family:inherit;padding:10px;box-sizing:border-box}#postmeta label{width:80px;display:block;float:left;text-transform:uppercase;font-size:10px}#postmeta input{border:none;max-width:407px}#comments_form .formnote{font-size:80%}#commentsclosed{padding:10px;margin:20px 0;background:rgba(51,51,51,.1)}#livepreview{display:none}#main .article ul.projects{list-style:none;margin:0;padding:0;overflow:hidden}ul.projects li{margin:0 10px 20px 0;padding:0;float:left;width:240px;line-height:15px;list-style:none}ul.projects li img{float:left;margin-right:5px;border:5px solid #CCC}ul.projects li a:hover img{border-color:#BBCF7F}ul.projects li span{display:block;font-size:12px}#footer{clear:both;font-size:90%;margin-bottom:-12px;}#footer .shell{max-width:770px;margin:auto;}#footer #copyright p{font-family:MuseoCustom,Helvetica,sans-serif}#footer #copyright .shell{padding:0 25px 200px;background:url(https://snook.ca/img/PolySnook.svgo.svg) no-repeat 50% 120%;background-size:400px 250px}iframe{max-width:100%;}
</style>
	<link rel="stylesheet" href="https://snook.ca/css/snook-v10-print.css" media="print">	
</head>
<body>
	<div id="header">
		<h1>Snook.ca</h1>
		<h2><a href="https://snook.ca/">LIFE &amp; TIMES of a WEB DEVELOPER</a></h2>
		<div class="nav"><a href="https://snook.ca/about/">About</a> &middot;  <a href="https://snook.ca/contact/">Contact</a> &middot; <a href="https://snook.ca/archives/">Archives</a></div>

	</div>
	<div id="content">
	<div id="main">
		<div class="article inside">
	
	<h1>Assumptive Development</h1>
		<p>As web developers, we want a way to ask "can you do this?" And there are varying degrees to which we can determine this.</p>
<p>One of those ways is to use user agent (UA) detection. We ask the browser some information about itself and it tells us. Based on what we know about a browser, we can make certain assumptions. If a browser tells you it is Internet Explorer, chances are you support the HTML, CSS and JavaScript that Internet Explorer supports. This detection could happen on the server-side or client-side.</p>
<p>Another way is feature detection. Feature detection uses JavaScript to test for a feature before using it. If I can access document.getElementById then almost assuredly I can use document.getElementById. Of course, to test for every feature before we use it would be extremely redundant. Generally, we'll test for a few known scenarios and with that, assume that other features are also available. For example, if I can access document.attachEvent, I'm almost definitely in IE and therefore can expect that all of the other event-related features of IE will work.</p>

<h2>Circumvention</h2>

<p>What happens when a bunch of web developers decide to use a particular approach to determining the capabilities of the browser? A new browser comes out and now needs to mimic or duplicate that approach to bypass the detection mechanism.</p>
<p>With UA detection, browsers only have one recourse: change the UA to say that it supports the features of another browser by saying it's another browser.</p>
<p>User agent strings are extremely limited, though, in the amount of information it can convey. They can't possibly describe the myriad of functionality it does or doesn't support.</p>
<p>Feature detection excels by being able to provide information at a micro level. Test the feature, use the feature. If a future browser comes out that implements the feature then the test should pass and the developer should (theoretically) not have any more work on their hands.</p>
<p>Sometimes a browser may sidestep feature detection with a partial implementation. For example, Firefox developed a limited implementation of document.all to get around feature detection. It only works in quirks mode and behaves differently than IE: <code>if(document.all){}</code> would fail but <code>if(document.all.maincontent){}</code> (assuming maincontent is an element on the page) would succeed.</p>
<p>At worst, a browser may test positive for the existence of a property, even when it doesn't really support it. <a href="http://www.modernizr.com/">Modernizr</a>, for example, runs into the occasional false positive and has to use alternate methods that test other specific expectations before determining a more accurate true or false. Do a search for "false positive" in the source and you'll see a few cases where things aren't always as they seem.</p>

<h2>What does it mean?</h2>

<p>We need to accept that, as web developers, we cannot test every permutation and, therefore, have to make assumptions somewhere.</p>

<p>While my argument for using UA detection versus feature detection may lean towards feature detection, let it not be the only recourse.</p>

<p>Alex Russell, for example, <a href="http://infrequently.org/2011/01/cutting-the-interrogation-short/">speaks of using UA detection</a> as a first line of offence. Use it to determine capabilities among a known subset of browsers and then fall back to using feature detection for the unknown browsers. In doing so, you gain the performance advantage of avoiding client-side feature detection (and avoid downloading an additional resource, in the case of Modernizr).</p> 

<p>Client-side feature detection also falls victim to environments where JavaScript may not be enabled, which could be <a href="http://developer.yahoo.com/blogs/ydn/posts/2010/10/how-many-users-have-javascript-disabled/">as much as 2% of your audience or more</a>. Yes, I understand that 2% may not sound like very much, but it's another set of users whose user experience you should plan for. </p>

<h2>Missing the point</h2>

<p>Those wishing to debate user agent detection versus feature detection may be missing the bigger conundrum: At the end of the day, you still have to decide what to do with a user who fails that test.</p>

<p>What happens to users who do not have JavaScript enabled? What happens to users who do not support the feature that you're testing for? What happens to users on browsers for which you can't test for?</p>


<p>There <em>are</em> a few options as to how to handle a failed test:</p>

<ol>
	<li>Deny the user</li>
	<li>Warn the user</li>
	<li>Limit functionality</li>
	<li>Hope for the best</li>
</ol>

<p>On Yahoo! Mail, for example, we do a combination of items 1 and 2. For some browsers, we deny them outright. Sorry, Internet Explorer 6. You're just out of luck. For other browsers, you'll get a warning page letting you know that you might run into a quirk or two. Yes, we use user agent detection to do this. Once you're in the application, however, we generally want you to be able to access everything. Feature and UA testing may be used to fork past differing browser implementations. For example, file uploads could use the Flash uploader or the basic POST upload.</p>

<p>For most of us, though, we just hope for the best. When was the last time you tested your project on Firefox 2 or Safari 3?</p>

<p>Relying on UA detection alone isn't likely to be very resilient in the long run, nor is relying on feature detection likely to solve every problem in every situation for every user. Like much of web development, it's a series of choices along the way that we have to make to craft the best experience for the most users as possible, even if that means making some assumptions along the way.</p>

	
</div>
<div class="meta">
	<div class="dt">Published February 01, 2011 </div>
	<div class="cat">Categorized as <a href="https://snook.ca/archives/opinion/">Opinion</a></div>
	<div class="shorturl">Short URL: <span class="url">https://snook.ca/s/990</span></div>
</div>

<div id="comments">
	<div class="meta">
		<h2>Conversation</h2>
		<div class="commentcount">7 Comments &middot; <a href="https://snook.ca/archives/opinion/assumptive-development.rss">RSS feed</a></div>
		<div class="commentfeed"></div>
	</div>
	
		<div class="comment" id="c65600">
		<div class="meta">
			<div class="commentnumber"><a href="#c65600">1</a></div>
			<span class="authorname">Tim McCormack</span> said on February 01, 2011		</div>
		<div class="quote"><p>One of the most important things to remember is that we as web developers are partly responsible for this mess. Coding a site to say "Sorry bud, you're out of luck!" to users of downlevel browsers based on UA or feature sniffing often encourages browser developers to hack around our detection scripts.</p>
<p>The more you block users based on detection (and without graceful degradation), the more this crap happens. Some is unavoidable, but it bears keeping in mind.
</p>
</div>
	</div>
		<div class="comment" id="c65637">
		<div class="meta">
			<div class="commentnumber"><a href="#c65637">2</a></div>
			<span class="authorname">Eric Ingram</span> said on February 03, 2011		</div>
		<div class="quote"><p>I haven't tested Firefox 2 and some others in a while, but most of my clients don't typically want to pay for such thorough (and time consuming) accuracy.</p>
<p>For projects of mine, new product launches and the like, I test everything I can get my hands on.</p>
<p>Nice post, Jonathan.
</p>
</div>
	</div>
		<div class="comment" id="c65768">
		<div class="meta">
			<div class="commentnumber"><a href="#c65768">3</a></div>
			<span class="authorname">John-David Dalton</span> said on February 09, 2011		</div>
		<div class="quote"><p>I dig most of the post. I would like to point out that Opera also supports `document.attachEvent` so when thinking of feature testing (an umbrella term for testing, detection, and weak inference) we are thinking less of which browser we are in and more of which feature is available. The more I use feature testing (FT) for bug/feature checks the less I worry about the specific browser (I usually add comments to remind me of the current browsers it happens to work in).</p>
<p>Also, when devs point to false positives with FT it's usually because of using a weak inference. I cover that a bit in the comments of my recent <a href="http://allyoucanleet.com/2011/02/05/the-cost-of-feature-testing/#comments">screencasts</a>. Weak inferences require more assumptions, not as much as UA sniffing, but more than the other techniques I list.</p>
<p>I'm glad you mentioned fallbacks. Usually if you try a series of FT you fallback to a basic implementation in JS. For example selector engines will try `document.querySelectorAll` and then fallback to manual dom traversal.</p>
<p>There is always a level of assumed support. For example, I usually don't test for a working `document.getElementById` or a working `Array#push`. However, I'm not opposed to doing a series of tests/inferences for a minimum requirements and warning the user if some key basic functionality is missing.</p>
</div>
	</div>
		<div class="comment" id="c66084">
		<div class="meta">
			<div class="commentnumber"><a href="#c66084">4</a></div>
			<span class="authorname">Thomas Sabo Watches </span> said on February 21, 2011		</div>
		<div class="quote"><p>This is a good article. Just Keep it up! Thanks!
</p>
</div>
	</div>
		<div class="comment" id="c66110">
		<div class="meta">
			<div class="commentnumber"><a href="#c66110">5</a></div>
			<span class="authorname">Ed Y</span> said on February 22, 2011		</div>
		<div class="quote"><p>Very good point about not testing Firefox 2 or Safari 3.  I'm guilty of this, but I guess there are a fair proportion of people still using FF2 (I'm thinking my dear grandmother who I introduced to Firefox years ago who has probably denied updates ever since).</p>
<p>Something to consider next time we do a thorough test of one of our front end layouts...
</p>
</div>
	</div>
		<div class="comment" id="c66159">
		<div class="meta">
			<div class="commentnumber"><a href="#c66159">6</a></div>
			<span class="authorname">Thomas Sabo Birth Stones</span> said on February 24, 2011		</div>
		<div class="quote"><p>Nice article! I love it very much and i have share with my friends! Thanks!
</p>
</div>
	</div>
		<div class="comment" id="c66253">
		<div class="meta">
			<div class="commentnumber"><a href="#c66253">7</a></div>
			<span class="authorname">Thomas Sabo Pendants</span> said on February 27, 2011		</div>
		<div class="quote"><p>This is a good article. Just Keep it up! Thanks!<br />
Nice article! I love it very much and i have share with my friends! Thanks!
</p>
</div>
	</div>
		


		<div id="commentsclosed">Sorry, comments are closed for this post. If you have any further questions or
	comments, feel free to <a href="https://snook.ca/contact/">send them to me directly</a>.</div>
	</div>
	</div>
	</div>
	<div id="footer">
		<div id="copyright"><div class="shell">
<p class="blurb"> Hi. My name is Jonathan Snook and this is my site. I write about what interests me, which is usually web design, development, and technology. I'm also in the middle of a <a href="https://fifty.snook.ca/">food adventure</a> and I like <a href="https://nook.snook.ca/">whisky</a>.
    <span>I wrote <a href="http://smacss.com/">SMACSS</a>.  I <a href="http://twitter.com/snookca">tweet</a>. Want to <a href="https://snook.ca/about/">learn more</a>? </span>
</p>
			<p>&copy; Jonathan Snook</p>
		</div></div>
	</div>
</body>

<!-- Mirrored from snook.ca/archives/opinion/assumptive-development by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 25 Apr 2021 22:04:52 GMT -->
</html>
