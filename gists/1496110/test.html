<!DOCTYPE html> 
<title>Foo</title>
<div>Expected value: <b>{"#":{"a":{"x":{"d":{"x":{"ololo.xml":"ololo.xml"},"x.js":"x.js"}},"b":{".git":{"config":"config"}}}}}</b></div>
<div>Actual value: <b id="ret"></b></div>
<script>
  var fs_tree = function(a,b,c,d,e){for(e={};c=e,b=a.pop();){b=("#"+b).split("/");while(b[0])c=c[d=b.shift()]=b[0]?c[d]||{}:d}return e};
  var paths = ['/a/b/.git/config/', '/a/x/d/x.js', '/a/x/d/x/ololo.xml'];
  document.getElementById('ret').innerHTML = JSON.stringify(fs_tree(paths));
</script>